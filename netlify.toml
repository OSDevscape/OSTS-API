# =========================
# Netlify Redirects
# =========================

# Enable Pretty URLs (strips .html, adds trailing slashes)
[build.processing.html]
  pretty_urls = true

# 1) Serve JSON files directly (rewrites / proxies with 200)
[[redirects]]
  from = "/API/v1/Clan/Rank/icons.json"
  to = "/API/v1/Clan/Rank/icons.json"
  status = 200

[[redirects]]
  from = "/API/v1/Slayer_Diaries/Monster/Entries/*"
  to = "/API/v1/Slayer_Diaries/Monster/Entries/:splat"
  status = 200

[[redirects]]
  from = "/API/v1/Slayer_Master/Head/icons.json"
  to = "/API/v1/Slayer_Master/Head/icons.json"
  status = 200

# 2) API gateway with rate limiting (Netlify Function)
[[redirects]]
  from = "/API/*"
  to = "/.netlify/functions/api-gateway"
  status = 200

# 3) SPA catch-all (must be last)
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200